<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="https://suiyueliushang.github.io/atom.xml" rel="self"/>
  
  <link href="https://suiyueliushang.github.io/"/>
  <updated>2023-05-03T09:51:00.466Z</updated>
  <id>https://suiyueliushang.github.io/</id>
  
  <author>
    <name>suiyueliushang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>基于echarts绘制人口热力图</title>
    <link href="https://suiyueliushang.github.io/2023/05/03/%E5%9F%BA%E4%BA%8Eecharts%E7%BB%98%E5%88%B6%E4%BA%BA%E5%8F%A3%E7%83%AD%E5%8A%9B%E5%9B%BE/"/>
    <id>https://suiyueliushang.github.io/2023/05/03/%E5%9F%BA%E4%BA%8Eecharts%E7%BB%98%E5%88%B6%E4%BA%BA%E5%8F%A3%E7%83%AD%E5%8A%9B%E5%9B%BE/</id>
    <published>2023-05-03T09:32:09.000Z</published>
    <updated>2023-05-03T09:51:00.466Z</updated>
    
    <content type="html"><![CDATA[<p>最近被安排做学院的就业质量报告，在统计毕业生生源地信息的时候需要绘制人口热力图，于是就有了这篇文章。</p><span id="more"></span><h2 id="1-地图数据"><a href="#1-地图数据" class="headerlink" title="1. 地图数据"></a>1. 地图数据</h2><p>首先需要准备地图数据，这里使用的是<a class="link"   href="http://www.geojson.cn/" >geoJSON <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>提供的中国地图的数据，当然各个省份，县市的数据也可以在这里找到。<br>另外也可以使用阿里云的数据可视化平台：<a class="link"   href="http://datav.aliyun.com/tools/atlas/#&lat=31.82570655964718&lng=104.29931640625001&zoom=4" >中国省市区县geojson数据 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>。</p><h2 id="2-代码编写"><a href="#2-代码编写" class="headerlink" title="2. 代码编写"></a>2. 代码编写</h2><h3 id="2-1-引入echarts"><a href="#2-1-引入echarts" class="headerlink" title="2.1 引入echarts"></a>2.1 引入echarts</h3><div class="highlight-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><h3 id="2-2-html"><a href="#2-2-html" class="headerlink" title="2.2 html"></a>2.2 html</h3><div class="highlight-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 引入刚刚下载的 ECharts 文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 为 ECharts 准备一个定义了宽高的 DOM --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:relative; height: 100vh; overflow: hidden;&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./index.js&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div><h3 id="2-3-index-js"><a href="#2-3-index-js" class="headerlink" title="2.3 index.js"></a>2.3 index.js</h3><div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import * as echarts from &#x27;echarts&#x27;;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">ROOT_PATH</span> = <span class="string">&#x27;https://echarts.apache.org/examples&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> chartDom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(chartDom);</span><br><span class="line"><span class="keyword">var</span> option;</span><br><span class="line"></span><br><span class="line">myChart.<span class="title function_">showLoading</span>();</span><br><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json&#x27;</span>, <span class="keyword">function</span> (<span class="params">geoJson</span>) &#123;</span><br><span class="line">  myChart.<span class="title function_">hideLoading</span>();</span><br><span class="line">  echarts.<span class="title function_">registerMap</span>(<span class="string">&#x27;HK&#x27;</span>, geoJson);</span><br><span class="line">  myChart.<span class="title function_">setOption</span>(</span><br><span class="line">    (option = &#123;</span><br><span class="line">      <span class="attr">title</span>: &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;生源地人口热力图&#x27;</span>,</span><br><span class="line">        <span class="attr">subtext</span>: <span class="string">&#x27;Data from Wikipedia&#x27;</span>,</span><br><span class="line">        <span class="attr">sublink</span>:</span><br><span class="line">          <span class="string">&#x27;http://zh.wikipedia.org/wiki/%E9%A6%99%E6%B8%AF%E8%A1%8C%E6%94%BF%E5%8D%80%E5%8A%83#cite_note-12&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">tooltip</span>: &#123;</span><br><span class="line">        <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span>,</span><br><span class="line">        <span class="attr">formatter</span>: <span class="string">&#x27;&#123;b&#125;&lt;br/&gt;&#123;c&#125; (人)&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">toolbox</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">orient</span>: <span class="string">&#x27;vertical&#x27;</span>,</span><br><span class="line">        <span class="attr">left</span>: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">        <span class="attr">top</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">        <span class="attr">feature</span>: &#123;</span><br><span class="line">          <span class="attr">dataView</span>: &#123; <span class="attr">readOnly</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">          <span class="attr">restore</span>: &#123;&#125;,</span><br><span class="line">          <span class="attr">saveAsImage</span>: &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">visualMap</span>: &#123;</span><br><span class="line">        <span class="attr">min</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">max</span>: <span class="number">80</span>,</span><br><span class="line">        <span class="attr">text</span>: [<span class="string">&#x27;High&#x27;</span>, <span class="string">&#x27;Low&#x27;</span>],</span><br><span class="line">        <span class="attr">realtime</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">calculable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">inRange</span>: &#123;</span><br><span class="line">          <span class="attr">color</span>: [<span class="string">&#x27;#cedec7&#x27;</span>, <span class="string">&#x27;#00482f&#x27;</span>]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">series</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;生源地热力图&#x27;</span>,</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&#x27;map&#x27;</span>,</span><br><span class="line">          <span class="attr">map</span>: <span class="string">&#x27;HK&#x27;</span>,</span><br><span class="line">          <span class="attr">label</span>: &#123;</span><br><span class="line">            <span class="attr">show</span>: <span class="literal">true</span></span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">data</span>: [</span><br><span class="line">            <span class="comment">// &#123; name: &#x27;江苏&#x27;, value: 0 &#125;,</span></span><br><span class="line"><span class="comment">// &#123; name: &#x27;浙江&#x27;, value: 0 &#125;,</span></span><br><span class="line"><span class="comment">// &#123; name: &#x27;上海&#x27;, value: 0 &#125;,</span></span><br><span class="line"><span class="comment">// &#123; name: &#x27;北京&#x27;, value: 0 &#125;,</span></span><br><span class="line"><span class="comment">// &#123; name: &#x27;广东&#x27;, value: 0 &#125;,</span></span><br><span class="line">          ],</span><br><span class="line">          <span class="comment">// 自定义名称映射</span></span><br><span class="line">          <span class="attr">nameMap</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;澳门特别行政区&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&quot;广西壮族自治区&quot;</span>: <span class="string">&#x27;广西&#x27;</span>,</span><br><span class="line">            <span class="string">&quot;香港特别行政区&quot;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;内蒙古自治区&#x27;</span>: <span class="string">&#x27;内蒙古&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;新疆维吾尔自治区&#x27;</span>: <span class="string">&#x27;新疆&#x27;</span>,</span><br><span class="line">            <span class="string">&quot;西藏自治区&quot;</span>: <span class="string">&#x27;西藏&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;宁夏回族自治区&#x27;</span>: <span class="string">&#x27;宁夏&#x27;</span>,</span><br><span class="line">            <span class="string">&quot;广东省&quot;</span>: <span class="string">&#x27;广东&#x27;</span>,</span><br><span class="line"><span class="string">&quot;江苏省&quot;</span>: <span class="string">&#x27;江苏&#x27;</span>,</span><br><span class="line"><span class="string">&quot;山东省&quot;</span>: <span class="string">&#x27;山东&#x27;</span>,</span><br><span class="line"><span class="string">&quot;浙江省&quot;</span>: <span class="string">&#x27;浙江&#x27;</span>,</span><br><span class="line"><span class="string">&quot;山西省&quot;</span>: <span class="string">&#x27;山西&#x27;</span>,</span><br><span class="line"><span class="string">&quot;河南省&quot;</span>: <span class="string">&#x27;河南&#x27;</span>,</span><br><span class="line"><span class="string">&quot;四川省&quot;</span>: <span class="string">&#x27;四川&#x27;</span>,</span><br><span class="line"><span class="string">&quot;河北省&quot;</span>: <span class="string">&#x27;河北&#x27;</span>,</span><br><span class="line"><span class="string">&quot;湖南省&quot;</span>: <span class="string">&#x27;湖南&#x27;</span>,</span><br><span class="line"><span class="string">&quot;湖北省&quot;</span>: <span class="string">&#x27;湖北&#x27;</span>,</span><br><span class="line"><span class="string">&quot;辽宁省&quot;</span>: <span class="string">&#x27;辽宁&#x27;</span>,</span><br><span class="line"><span class="string">&quot;陕西省&quot;</span>: <span class="string">&#x27;陕西&#x27;</span>,</span><br><span class="line"><span class="string">&quot;安徽省&quot;</span>: <span class="string">&#x27;安徽&#x27;</span>,</span><br><span class="line"><span class="string">&quot;福建省&quot;</span>: <span class="string">&#x27;福建&#x27;</span>,</span><br><span class="line"><span class="string">&quot;重庆市&quot;</span>: <span class="string">&#x27;重庆&#x27;</span>,</span><br><span class="line"><span class="string">&quot;江西省&quot;</span>: <span class="string">&#x27;江西&#x27;</span>,</span><br><span class="line"><span class="string">&quot;吉林省&quot;</span>: <span class="string">&#x27;吉林&#x27;</span>,</span><br><span class="line"><span class="string">&quot;黑龙江省&quot;</span>: <span class="string">&#x27;黑龙江&#x27;</span>,</span><br><span class="line"><span class="string">&quot;云南省&quot;</span>: <span class="string">&#x27;云南&#x27;</span>,</span><br><span class="line"><span class="string">&quot;贵州省&quot;</span>: <span class="string">&#x27;贵州&#x27;</span>,</span><br><span class="line"><span class="string">&quot;甘肃省&quot;</span>: <span class="string">&#x27;甘肃&#x27;</span>,</span><br><span class="line"><span class="string">&quot;海南省&quot;</span>: <span class="string">&#x27;海南&#x27;</span>,</span><br><span class="line"><span class="string">&quot;天津市&quot;</span>: <span class="string">&#x27;天津&#x27;</span>,</span><br><span class="line"><span class="string">&quot;北京市&quot;</span>: <span class="string">&#x27;北京&#x27;</span>,</span><br><span class="line"><span class="string">&quot;上海市&quot;</span>: <span class="string">&#x27;上海&#x27;</span>,</span><br><span class="line"><span class="string">&quot;台湾省&quot;</span>: <span class="string">&#x27;台湾&#x27;</span>,</span><br><span class="line"><span class="string">&quot;青海省&quot;</span>: <span class="string">&#x27;青海&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line">option &amp;&amp; myChart.<span class="title function_">setOption</span>(option);</span><br></pre></td></tr></table></figure></div><h2 id="使用express搭建服务器"><a href="#使用express搭建服务器" class="headerlink" title="使用express搭建服务器"></a>使用express搭建服务器</h2><p>因为跨域的问题，我这里用express搭建了一个简单的http服务器，开箱即用1分钟就可以解决。</p><h3 id="1-安装express"><a href="#1-安装express" class="headerlink" title="1. 安装express"></a>1. 安装express</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express --save</span><br></pre></td></tr></table></figure></div><h3 id="2-创建server-js"><a href="#2-创建server-js" class="headerlink" title="2. 创建server.js"></a>2. 创建server.js</h3><div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> app = <span class="title function_">express</span>();</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;your file path&#x27;</span>)).<span class="title function_">listen</span>(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure></div><h3 id="3-运行server-js"><a href="#3-运行server-js" class="headerlink" title="3. 运行server.js"></a>3. 运行server.js</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node server.js</span><br></pre></td></tr></table></figure></div><h3 id="4-访问"><a href="#4-访问" class="headerlink" title="4. 访问"></a>4. 访问</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:3000</span><br></pre></td></tr></table></figure></div><h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/images/%E7%94%9F%E6%BA%90%E5%9C%B0%E4%BA%BA%E5%8F%A3%E7%83%AD%E5%8A%9B%E5%9B%BE.png"                      alt="image"                ></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;最近被安排做学院的就业质量报告，在统计毕业生生源地信息的时候需要绘制人口热力图，于是就有了这篇文章。&lt;/p&gt;</summary>
    
    
    
    
    <category term="echarts" scheme="https://suiyueliushang.github.io/tags/echarts/"/>
    
  </entry>
  
  <entry>
    <title>Spring学习笔记</title>
    <link href="https://suiyueliushang.github.io/2023/04/22/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>https://suiyueliushang.github.io/2023/04/22/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2023-04-22T10:02:02.000Z</published>
    <updated>2023-04-27T08:23:17.779Z</updated>
    
    <content type="html"><![CDATA[<h2 id="spring-框架概述"><a href="#spring-框架概述" class="headerlink" title="spring 框架概述"></a>spring 框架概述</h2><ul><li>spring是一个开源的轻量级的javaEE框架</li><li>spring可以解决企业应用开发的复杂性</li><li>spring有两个核心部分：IOC和AOP<ul><li>IOC：控制反转，把创建对象的过程交给spring进行管理</li><li>AOP：面向切面，不修改源代码进行功能增强</li></ul></li><li>spring优点：<ul><li>方便解耦，简化开发</li><li>AOP编程支持</li><li>方便程序测试</li><li>方便和其他框架进行整合</li><li>方便进行事务操作</li><li>降低API开发难度</li></ul></li></ul><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/images/springFramework.png"                                     ></p><h2 id="IOC容器"><a href="#IOC容器" class="headerlink" title="IOC容器"></a>IOC容器</h2><ol><li>IOC底层原理</li><li>IOC接口</li><li>IOC操作Bean管理（基于xlm）</li><li>ICO操作Bean管理（基于注解）</li></ol><h3 id="IOC底层原理"><a href="#IOC底层原理" class="headerlink" title="IOC底层原理"></a>IOC底层原理</h3><h4 id="什么是IOC"><a href="#什么是IOC" class="headerlink" title="什么是IOC"></a>什么是IOC</h4><p>（1）控制反转，把对象创建和对象之间的调用过程，交给Spring管理<br>（2）使用IOC的目的：为了降低耦合度</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/images%5CSpringIOC.png"                                     ></p><h4 id="IOC底层原理-1"><a href="#IOC底层原理-1" class="headerlink" title="IOC底层原理"></a>IOC底层原理</h4><ol><li>IOC底层原理：反射+工厂模式</li></ol><h3 id="IOC接口"><a href="#IOC接口" class="headerlink" title="IOC接口"></a>IOC接口</h3><ol><li>IOC思想基于<strong>IOC容器</strong>实现，IOC容器底层就是<strong>对象工厂</strong></li><li>Spring提供IOC容器实现两种方式：（两个接口）<ul><li>BeanFactory： IOC容器的基本实现，是Spring内部使用接口，不提供开发人员使用（加载配置文件的时候不会创建对象，在获取对象的时候才会创建对象）</li><li>ApplicationContext：BeanFactory的子接口，提供更多更强大的功能，一般由开发人员使用（加载配置文件的时候就会创建）耗时耗力的事情在开始完成</li></ul></li><li>ApplicationContext有实现类</li></ol><h2 id="IOC操作Bean管理"><a href="#IOC操作Bean管理" class="headerlink" title="IOC操作Bean管理"></a>IOC操作Bean管理</h2><h3 id="什么是bean"><a href="#什么是bean" class="headerlink" title="什么是bean"></a>什么是bean</h3><p>简单来说，bean就是哪些<strong>被IoC容器所管理的对象</strong>。我们需要告诉IoC容器帮助我们管理哪些对象，这个是通过配置元数据来定义的。配置元数据可以是XML、注解或者java配置类。</p><h3 id="Bean管理"><a href="#Bean管理" class="headerlink" title="Bean管理"></a>Bean管理</h3><p>（1）创建对象</p><p>（2）注入属性</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/images/Bean.png"                                     ></p><blockquote><p><code>org.springframework.context</code>和<code>org.springframework.context</code>这两个包是IoC实现的基础</p></blockquote><h3 id="Bean管理操作实现方式"><a href="#Bean管理操作实现方式" class="headerlink" title="Bean管理操作实现方式"></a>Bean管理操作实现方式</h3><ol><li><strong>基于xml配置文件方式</strong></li><li><strong>基于注解方式</strong></li></ol><h4 id="基于xml方式创建对象"><a href="#基于xml方式创建对象" class="headerlink" title="基于xml方式创建对象"></a>基于xml方式创建对象</h4><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置user对象属性--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.User&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></div><blockquote><ul><li>创建对象的时候，默认也是执行无参构造方法完成对象创建</li></ul></blockquote><h4 id="基于xml方式注入属性"><a href="#基于xml方式注入属性" class="headerlink" title="基于xml方式注入属性"></a>基于xml方式注入属性</h4><blockquote><p>依赖注入（DI）：注入属性</p></blockquote><ul><li><strong>使用set进行注入</strong></li></ul><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--使用set进行属性注入，需要写set函数--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;属性名&quot;</span> <span class="attr">value</span>=<span class="string">&quot;属性值&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li><strong>使用有参数构造方法进行注入</strong></li></ul><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--使用有参构造函数方式进行注入--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">consturctor-arg</span> <span class="attr">name</span>=<span class="string">&quot;属性名&quot;</span> <span class="attr">value</span>=<span class="string">&quot;属性值&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></div><blockquote><p>两种方式对比</p></blockquote><ul><li><p>p名称空间注入 </p><p>只是简化xml配置的一种写法</p></li></ul><h4 id="基于xml方式注入其他类型的属性"><a href="#基于xml方式注入其他类型的属性" class="headerlink" title="基于xml方式注入其他类型的属性"></a>基于xml方式注入其他类型的属性</h4><ol><li><p>字面量</p><ol><li>null</li></ol><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;属性名&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">null</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">null</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ol start="2"><li><p>特殊符号(包含&lt;，&gt;等)</p><pre><code>        - 把特殊符号进行转义：&amp;lt,&amp;gt        - 把特殊符号写入![CDATA[]]中</code></pre></li><li><p>注入集合</p></li></ol><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span>,<span class="attr">class</span>=<span class="string">&quot;com.spring.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">preperty</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>java课程<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>数据库<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">preperty</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--map属性注入--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maps&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">preperty</span> <span class="attr">name</span>=<span class="string">&quot;sets&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>java课程<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>数据库<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">preperty</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></div><pre><code>4. 注入对象集合</code></pre><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--集合中要保存的对象--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;couese1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.collection.Couese&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Spring5框架&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;couese2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.collection.Couese&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;MyBatis框架&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--对象集合--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;courseList&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;couese1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;couese2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></div><h4 id="注入属性-外部bean"><a href="#注入属性-外部bean" class="headerlink" title="注入属性-外部bean"></a>注入属性-外部bean</h4><p>注入对象类型的属性</p><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--对象参数注入--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;service&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.Service&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDAO&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userdao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userdao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.UserDAO&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></div><h4 id="注入属性-内部bean"><a href="#注入属性-内部bean" class="headerlink" title="注入属性-内部bean"></a>注入属性-内部bean</h4><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--对象参数注入--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;service&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.Service&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDAO&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userdao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.UserDAO&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li></ol><h4 id="基于注解的方式"><a href="#基于注解的方式" class="headerlink" title="基于注解的方式"></a>基于注解的方式</h4><h5 id="将一个类声明为-Bean-的注解"><a href="#将一个类声明为-Bean-的注解" class="headerlink" title="将一个类声明为 Bean 的注解"></a>将一个类声明为 Bean 的注解</h5><ol><li><p><code>@Component</code> :通用的注解，可以标注任意类为Spring组件</p></li><li><p><code>@Repository</code> :对应持久化层即Dao层，主要用于数据库相关操作</p></li><li><p><code>@Service</code> ：对应服务层</p></li><li><p><code>@Controller</code>：对应Spring MVC控制层，主要用于接受用户请求并调用Service层返回数据给前端页面</p></li></ol><h5 id="Component-和-Bean-的区别是什么"><a href="#Component-和-Bean-的区别是什么" class="headerlink" title="@Component 和@Bean 的区别是什么"></a><code>@Component</code> 和<code>@Bean</code> 的区别是什么</h5><ul><li><code>@Component</code> 注解作用于类，而<code>@Bean</code>注解作用于方法</li><li><code>@Component</code>通常是通过类路径扫描来自动侦测以及自动装配到 Spring 容器中（我们可以使用 <code>@ComponentScan</code> 注解定义要扫描的路径从中找出标识了需要装配的类自动装配到 Spring 的 bean 容器中）。<code>@Bean</code> 注解通常是我们在标有该注解的方法中定义产生这个 bean,<code>@Bean</code>告诉了 Spring 这是某个类的实例，当我需要用它的时候还给我。</li><li><code>@Bean</code> 注解比 <code>@Component</code> 注解的自定义性更强，而且很多地方我们只能通过 <code>@Bean</code> 注解来注册 bean。比如当我们引用第三方库中的类需要装配到 <code>Spring</code>容器时，则只能通过 <code>@Bean</code>来实现。</li></ul><blockquote><p><code>@Bean</code>注解使用实例：</p><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> TransferService <span class="title function_">transferService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TransferServiceImpl</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>相当于下面的<code>XML</code>配置：</p><div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transferService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.acme.TransferServiceImpl&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>下面这段通过<code>@Component</code>无法实现</p><div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> OneService <span class="title function_">getService</span><span class="params">(status)</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> (status)  &#123;</span><br><span class="line">        when <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">serviceImpl1</span>();</span><br><span class="line">        when <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">serviceImpl2</span>();</span><br><span class="line">        when <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">serviceImpl3</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></blockquote><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li>[Spring常见面试题总结](<a class="link"   href="https://javaguide.cn/system-design/framework/spring/spring-knowledge-and-questions-summary.html#%E5%A6%82%E4%BD%95%E5%AF%B9%E5%AF%86%E7%A0%81%E8%BF%9B%E8%A1%8C%E5%8A%A0%E5%AF%86" >Spring常见面试题总结 | JavaGuide(Java面试+学习指南) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>)</li><li><a href="%5B11_IOC%E5%AE%B9%E5%99%A8-Bean%E7%AE%A1%E7%90%86XML%E6%96%B9%E5%BC%8F%EF%BC%88%E6%B3%A8%E5%85%A5%E5%A4%96%E9%83%A8bean%EF%BC%89_%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9_bilibili%5D(https://www.bilibili.com/video/BV1Vf4y127N5/?p=11&spm_id_from=pageDriver&vd_source=cf0df5322802129face9bb48150ec960)">bilibili尚硅谷Spring教程</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;spring-框架概述&quot;&gt;&lt;a href=&quot;#spring-框架概述&quot; class=&quot;headerlink&quot; title=&quot;spring 框架概述&quot;&gt;&lt;/a&gt;spring 框架概述&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;spring是一个开源的轻量级的javaEE框架&lt;/li</summary>
      
    
    
    
    
    <category term="Spring" scheme="https://suiyueliushang.github.io/tags/Spring/"/>
    
  </entry>
  
</feed>
